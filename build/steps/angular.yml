parameters:
  projects:
    - path: ""
      name: ""
      lint: true

steps:
  - ${{ each project in parameters.projects }}:
      - task: Yarn@3
        inputs:
          projectDirectory: ${{ project.path }}
          arguments: "run install"
        displayName: "installing ${{ project.name }}"

  - ${{ each project in parameters.projects }}:
      - task: Yarn@3
        inputs:
          projectDirectory: ${{ project.path }}
          arguments: "run gah -e prod run ng build --prod"
        displayName: "build ${{ project.name }}"
